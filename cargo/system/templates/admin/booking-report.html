{% extends 'admin/dsbrd.html' %}

<!DOCTYPE html>
<html>
<head>
    <title>Bokking Report</title>
</head>
<body>
    {% block content %}
    <center>
        <div class="d-flex justify-content-between">

            {% comment %} <h2>Order is #<b>{{ booking.parcel.tracking_id }}</b></h2> {% endcomment %}
            <span></span>
            <a class="button" href="/admin-dashboard/" class="mr-4" onclick="return confirm('Go Back to Previous Page');">Back</a>
        </div>
        <h1>Booking Report</h1>
        <hr>
        <h3>In Transit</h3>
        <table border="1">
            <tr>
                <th>Id</th>
                <th>Status</th>
                <th>Status Date</th>
                <th>From</th>
                <th>To</th>
                <th>Booking Date</th>
                <th>Email</th>
            </tr>
            {% for booking in bookings.inTransitBookings %}
            <tr>
                <td>{{ booking.id }}</td>
                <td>{{ booking.parcel.status }}</td>
                <td>{{ booking.parcel.updated_at}}</td>
                <td>{{ booking.parcel.from_city.name }}</td>
                <td>{{ booking.parcel.to_city.name }}</td>
                <td>{{booking.booking_date}}</td>
                <td>{{booking.customer.user.email}}</td>
            </tr>
            
            {% endfor %}
        </table>
        {% for booking in bookings.inTransitBookings %}
        {% empty %}
            No Data found
        {% endfor %}

        <hr>
        <h3>Booked</h3>
        <table border="1">
            <tr>
                <th>Id</th>
                <th>Status</th>
                <th>Status Date</th>
                <th>From</th>
                <th>To</th>
                <th>Booking Date</th>
                <th>Email</th>
            </tr>
            {% for booking in bookings.bookedBookings %}
            <tr>
                <td>{{ booking.id }}</td>
                <td>{{ booking.parcel.status }}</td>
                <td>{{ booking.parcel.updated_at}}</td>
                <td>{{ booking.parcel.from_city.name }}</td>
                <td>{{ booking.parcel.to_city.name }}</td>
                <td>{{booking.booking_date}}</td>
                <td>{{booking.customer.user.email}}</td>
            </tr>
            
            {% endfor %}
        </table>
        {% for booking in bookings.bookedBookings %}
        {% empty %}
            No Data found
        {% endfor %}

        <hr>
        <h3>Arrived at destination</h3>
        <table border="1">
            <tr>
                <th>Id</th>
                <th>Status</th>
                <th>Status Date</th>
                <th>From</th>
                <th>To</th>
                <th>Booking Date</th>
                <th>Email</th>
            </tr>
            {% for booking in bookings.arrivedAtDestinationPayments %}
            <tr>
                <td>{{ booking.id }}</td>
                <td>{{ booking.parcel.status }}</td>
                <td>{{ booking.parcel.updated_at}}</td>
                <td>{{ booking.parcel.from_city.name }}</td>
                <td>{{ booking.parcel.to_city.name }}</td>
                <td>{{booking.booking_date}}</td>
                <td>{{booking.customer.user.email}}</td>
            </tr>
            
            {% endfor %}
        </table>
        {% for booking in bookings.arrivedAtDestinationPayments %}
        {% empty %}
            No Data found
        {% endfor %}

        <hr>
        <h3>Delivered</h3>
        <table border="1">
            <tr>
                <th>Id</th>
                <th>Status</th>
                <th>Status Date</th>
                <th>From</th>
                <th>To</th>
                <th>Booking Date</th>
                <th>Email</th>
            </tr>
            {% for booking in bookings.deliveredBookings %}
            <tr>
                <td>{{ booking.id }}</td>
                <td>{{ booking.parcel.status }}</td>
                <td>{{ booking.parcel.updated_at}}</td>
                <td>{{ booking.parcel.from_city.name }}</td>
                <td>{{ booking.parcel.to_city.name }}</td>
                <td>{{booking.booking_date}}</td>
                <td>{{booking.customer.user.email}}</td>
            </tr>
            
            {% endfor %}
        </table>
        {% for booking in bookings.deliveredBookings %}
        {% empty %}
            No Data found
        {% endfor %}

        <hr>
        <h3>Pending Payments</h3>
        <table border="1">
            <tr>
                <th>Id</th>
                <th>Status</th>
                <th>Status Date</th>
                <th>From</th>
                <th>To</th>
                <th>Booking Date</th>
                <th>Email</th>
            </tr>
            {% for booking in bookings.pendingPayments %}
            <tr>
                <td>{{ booking.id }}</td>
                <td>{{ booking.parcel.status }}</td>
                <td>{{ booking.parcel.updated_at}}</td>
                <td>{{ booking.parcel.from_city.name }}</td>
                <td>{{ booking.parcel.to_city.name }}</td>
                <td>{{booking.booking_date}}</td>
                <td>{{booking.customer.user.email}}</td>
            </tr>
            
            {% endfor %}
        </table>
        {% for booking in bookings.pendingPayments %}
        {% empty %}
            No Data found
        {% endfor %}
    </center>
    {% endblock %}
</body>
</html>
